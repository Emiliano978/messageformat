<!DOCTYPE html>
<html>
  <div id="content"></div>
  <input type="button" value="en" id="en" />
  <input type="button" value="fr" id="fr" />

  <script src="messages.js"></script>
  <script>
    function showContents(lc) {
      var colors = window.messages.default[lc].colors;
      var plural = window.messages.default[lc].sub.folder.plural;
      var el = document.getElementById('content');
      el.innerHTML = '';
      [
        colors.red(),
        colors.blue(),
        colors.green(),
        plural.test({ NUM: 1 }),
        plural.test({ NUM: 2 })
      ].forEach(function (s) {
        el.innerHTML += '<div>' + s + '</div>';
      });
      localStorage.setItem('lang', lc);
    }

    showContents(localStorage.getItem('lang') || 'en');
    document.getElementById('en').onclick = showContents.bind(null, 'en');
    document.getElementById('fr').onclick = showContents.bind(null, 'fr');
  </script>
</html>
